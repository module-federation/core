# Remotes

- Type: `Remotes`
- Required: No
- Default: `undefined`
- Usage: Used for consuming remote modules in `Module Federation`

:::tip
A parameter unique to consumers. If `remotes` is set, it can be considered that this is a consumer.

:::

## TypeScript Interface

```ts
/**
 * Container locations and request scopes from which modules should be resolved and loaded at runtime.
 * When provided, property name is used as request scope, otherwise request scope is automatically inferred from container location.
 */
type Remotes = (RemotesItem | RemotesObject)[] | RemotesObject;

/**
 * Container location from which modules should be resolved and loaded at runtime.
 */
type RemotesItem = string;

/**
 * Container locations from which modules should be resolved and loaded at runtime.
 */
type RemotesItems = RemotesItem[];

/**
 * Container locations from which modules should be resolved and loaded at runtime. Property names are used as request scopes.
 */
interface RemotesObject {
  /**
   * Container locations from which modules should be resolved and loaded at runtime.
   */
  [k: string]: RemotesConfig | RemotesItem | RemotesItems;
}

/**
 * Advanced configuration for container locations from which modules should be resolved and loaded at runtime.
 */
interface RemotesConfig {
  /**
   * Container locations from which modules should be resolved and loaded at runtime.
   */
  external: RemotesItem | RemotesItems;
  /**
   * The name of the share scope shared with this remote.
   */
  shareScope?: string | string[];
}
```

## Configuration Examples

### Simple String Configuration

```ts
const config: ModuleFederationPluginOptions = {
  name: 'host',
  remotes: {
    'remote-app': 'remoteApp@http://localhost:3001/remoteEntry.js'
  }
};
```

### Array Configuration

```ts
const config: ModuleFederationPluginOptions = {
  name: 'host',
  remotes: [
    'remoteApp@http://localhost:3001/remoteEntry.js',
    'anotherRemote@http://localhost:3002/remoteEntry.js'
  ]
};
```

### Advanced Configuration with Share Scope

```ts
const config: ModuleFederationPluginOptions = {
  name: 'host',
  remotes: {
    'remote-app': {
      external: 'remoteApp@http://localhost:3001/remoteEntry.js',
      shareScope: 'custom-scope'
    },
    'another-remote': {
      external: [
        'anotherRemote@http://localhost:3002/remoteEntry.js',
        'fallbackRemote@http://localhost:3003/remoteEntry.js'
      ],
      shareScope: ['scope1', 'scope2']
    }
  }
};
```

- `remoteAlias` is the name actually used for reference by the consumer and can be configured as needed. For example, if `remoteAlias` is set to `demo`, then the consumption method would be `import xx from 'demo'`.
- `ModuleFederationInfo` is composed of `ModuleFederation name` + `@` + `ModuleFederation entry`
  - `ModuleFederation name` is the name set by the producer
  - `entry` can be either `mf-manifest.json` or `remoteEntry.js`
  - When `entry` is `mf-manifest.json`, it has the following additional capabilities:
    - Dynamic module type hints
    - Resource preloading
    - Chrome devtool debugging tool

```js
module.exports = {
  plugins: [
    new ModuleFederationPlugin({
      name: 'host',
      // The `remotes` below defines two remotes, named `manifest-provider` for the project started on port 3011 and `js-entry-provider` for the project started on port 3012
      remotes: {
        'manifest-provider':
          'manifest_provider@http://localhost:3011/mf-manifest.json',
        'js-entry-provider':
          'js_entry_provider@http://localhost:3012/remoteEntry.js',
      },
    }),
  ],
};
```
