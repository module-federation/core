{"version":3,"file":"client15.js","mappings":"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","sources":["webpack://app1/./src/FederatedActionDemo.js"],"sourcesContent":["'use client';\n\nimport React, { useState, useTransition } from 'react';\nimport { incrementCount } from 'app2/server-actions';\n\n/**\n * FederatedActionDemo - Client component demonstrating cross-app server actions\n *\n * Default behavior (Option 2 - MF-native, in-process):\n * 1. Imports action reference from app2 via Module Federation\n * 2. Calls the action through app1's server (host)\n * 3. app1 resolves the action from the shared serverActionRegistry (registered\n *    when app2's server-actions module is loaded via MF)\n * 4. The action executes in app1's process (no HTTP hop to app2)\n *\n * Fallback (Option 1 - HTTP forwarding):\n * If app1 can't resolve the action locally, it forwards to app2's /react and\n * proxies the response back.\n */\nexport default function FederatedActionDemo() {\n  const [count, setCount] = useState(0);\n  const [isPending, startTransition] = useTransition();\n  const [error, setError] = useState(null);\n\n  const handleClick = async () => {\n    startTransition(async () => {\n      try {\n        // Call the federated action\n        // The action reference from app2 will have an action ID that includes 'app2'\n        // app1's server will resolve this via MF-native registry (fallback: HTTP forward)\n        const result = await incrementCount();\n        setCount(result);\n        setError(null);\n      } catch (err) {\n        console.error('Federated action failed:', err);\n        setError(err.message || 'Action failed');\n      }\n    });\n  };\n\n  return (\n    <div\n      style={{\n        marginTop: '16px',\n        padding: '12px',\n        border: '2px solid #10b981',\n        borderRadius: '8px',\n        backgroundColor: '#ecfdf5',\n      }}\n      data-testid=\"federated-action-demo\"\n    >\n      <h3 style={{ margin: '0 0 12px 0', fontSize: '14px', color: '#059669' }}>\n        Federated Action Demo (MF-native by default)\n      </h3>\n      <p style={{ margin: '0 0 8px 0', fontSize: '12px', color: '#6b7280' }}>\n        Calls app2&apos;s incrementCount action through app1 (in-process; HTTP\n        fallback)\n      </p>\n\n      <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\n        <button\n          onClick={handleClick}\n          disabled={isPending}\n          style={{\n            padding: '8px 16px',\n            borderRadius: '4px',\n            border: 'none',\n            backgroundColor: isPending ? '#9ca3af' : '#10b981',\n            color: 'white',\n            cursor: isPending ? 'not-allowed' : 'pointer',\n            fontWeight: 'bold',\n          }}\n          data-testid=\"federated-action-button\"\n        >\n          {isPending ? 'Calling...' : 'Call Remote Action'}\n        </button>\n\n        <span\n          style={{ fontSize: '14px', fontWeight: 'bold', color: '#059669' }}\n        >\n          Count: <span data-testid=\"federated-action-count\">{count}</span>\n        </span>\n      </div>\n\n      {error && (\n        <p style={{ margin: '8px 0 0 0', fontSize: '12px', color: '#dc2626' }}>\n          Error: {error}\n        </p>\n      )}\n\n      <p style={{ marginTop: '8px', fontSize: '11px', color: '#9ca3af' }}>\n        Action flows: Client → app1 server → MF-native execute (fallback: HTTP\n        forward)\n      </p>\n    </div>\n  );\n}\n"],"names":["React","useState","useTransition","incrementCount","jsx","_jsx","jsxs","_jsxs","FederatedActionDemo","count","setCount","isPending","startTransition","error","setError","handleClick","result","err","console","message","style","marginTop","padding","border","borderRadius","backgroundColor","children","margin","fontSize","color","display","alignItems","gap","onClick","disabled","cursor","fontWeight"],"sourceRoot":""}