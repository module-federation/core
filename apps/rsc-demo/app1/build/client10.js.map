{"version":3,"file":"client10.js","mappings":"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","sources":["webpack://app1/ignored|/Users/bytedance/Library/pnpm/store/v10/links/@/postcss/8.4.38/878be5909e3fbab1ffdc821f8b7b701899d71ead73155cc5e91034a405489c34/node_modules/postcss/lib|./terminal-highlight","webpack://app1/ignored|/Users/bytedance/Library/pnpm/store/v10/links/@/postcss/8.4.38/878be5909e3fbab1ffdc821f8b7b701899d71ead73155cc5e91034a405489c34/node_modules/postcss/lib|fs","webpack://app1/ignored|/Users/bytedance/Library/pnpm/store/v10/links/@/postcss/8.4.38/878be5909e3fbab1ffdc821f8b7b701899d71ead73155cc5e91034a405489c34/node_modules/postcss/lib|path","webpack://app1/ignored|/Users/bytedance/Library/pnpm/store/v10/links/@/postcss/8.4.38/878be5909e3fbab1ffdc821f8b7b701899d71ead73155cc5e91034a405489c34/node_modules/postcss/lib|source-map-js","webpack://app1/ignored|/Users/bytedance/Library/pnpm/store/v10/links/@/postcss/8.4.38/878be5909e3fbab1ffdc821f8b7b701899d71ead73155cc5e91034a405489c34/node_modules/postcss/lib|url","webpack://app1/../shared/src/TextWithMarkdown.js","webpack://app1/../shared/src/NotePreview.js","webpack://app1/../shared/src/NoteEditor.js"],"sourcesContent":["/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nimport { marked } from 'marked';\nimport sanitizeHtml from 'sanitize-html';\n\nconst allowedTags = sanitizeHtml.defaults.allowedTags.concat([\n  'img',\n  'h1',\n  'h2',\n  'h3',\n]);\nconst allowedAttributes = Object.assign(\n  {},\n  sanitizeHtml.defaults.allowedAttributes,\n  {\n    img: ['alt', 'src'],\n  },\n);\n\nexport default function TextWithMarkdown({ text }) {\n  return (\n    <div\n      className=\"text-with-markdown\"\n      dangerouslySetInnerHTML={{\n        __html: sanitizeHtml(marked(text), {\n          allowedTags,\n          allowedAttributes,\n        }),\n      }}\n    />\n  );\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nimport TextWithMarkdown from './TextWithMarkdown';\n\nexport default function NotePreview({ body }) {\n  return (\n    <div className=\"note-preview\">\n      <TextWithMarkdown text={body} />\n    </div>\n  );\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n'use client';\n\nimport { useState, useTransition } from 'react';\nimport { useRouter, useMutation } from '@rsc-demo/framework/router';\n\nimport NotePreview from './NotePreview';\n\nexport default function NoteEditor({ noteId, initialTitle, initialBody }) {\n  const [title, setTitle] = useState(initialTitle);\n  const [body, setBody] = useState(initialBody);\n  const { location } = useRouter();\n  const [isNavigating, startNavigating] = useTransition();\n  const [isSaving, saveNote] = useMutation({\n    endpoint: noteId !== null ? `/notes/${noteId}` : `/notes`,\n    method: noteId !== null ? 'PUT' : 'POST',\n  });\n  const [isDeleting, deleteNote] = useMutation({\n    endpoint: `/notes/${noteId}`,\n    method: 'DELETE',\n  });\n\n  async function handleSave() {\n    const payload = { title, body };\n    const requestedLocation = {\n      selectedId: noteId,\n      isEditing: false,\n      searchText: location.searchText,\n    };\n    await saveNote(payload, requestedLocation);\n  }\n\n  async function handleDelete() {\n    const payload = {};\n    const requestedLocation = {\n      selectedId: null,\n      isEditing: false,\n      searchText: location.searchText,\n    };\n    await deleteNote(payload, requestedLocation);\n  }\n\n  const isDraft = noteId === null;\n  return (\n    <div className=\"note-editor\">\n      <form\n        className=\"note-editor-form\"\n        autoComplete=\"off\"\n        onSubmit={(e) => e.preventDefault()}\n      >\n        <label className=\"offscreen\" htmlFor=\"note-title-input\">\n          Enter a title for your note\n        </label>\n        <input\n          id=\"note-title-input\"\n          type=\"text\"\n          value={title}\n          onChange={(e) => {\n            setTitle(e.target.value);\n          }}\n        />\n        <label className=\"offscreen\" htmlFor=\"note-body-input\">\n          Enter the body for your note\n        </label>\n        <textarea\n          id=\"note-body-input\"\n          value={body}\n          onChange={(e) => {\n            setBody(e.target.value);\n          }}\n        />\n      </form>\n      <div className=\"note-editor-preview\">\n        <div className=\"note-editor-menu\" role=\"menubar\">\n          <button\n            className=\"note-editor-done\"\n            disabled={isSaving || isNavigating}\n            onClick={() => handleSave()}\n            role=\"menuitem\"\n          >\n            <img\n              src=\"checkmark.svg\"\n              width=\"14px\"\n              height=\"10px\"\n              alt=\"\"\n              role=\"presentation\"\n            />\n            Done\n          </button>\n          {!isDraft && (\n            <button\n              className=\"note-editor-delete\"\n              disabled={isDeleting || isNavigating}\n              onClick={() => handleDelete()}\n              role=\"menuitem\"\n            >\n              <img\n                src=\"cross.svg\"\n                width=\"10px\"\n                height=\"10px\"\n                alt=\"\"\n                role=\"presentation\"\n              />\n              Delete\n            </button>\n          )}\n        </div>\n        <div className=\"label label--preview\" role=\"status\">\n          Preview\n        </div>\n        <h1 className=\"note-title\">{title}</h1>\n        <NotePreview title={title} body={body} />\n      </div>\n    </div>\n  );\n}\n"],"names":["marked","sanitizeHtml","jsx","_jsx","allowedTags","defaults","concat","allowedAttributes","Object","assign","img","TextWithMarkdown","text","className","dangerouslySetInnerHTML","__html","NotePreview","body","children","useState","useTransition","useRouter","useMutation","jsxs","_jsxs","NoteEditor","noteId","initialTitle","initialBody","title","setTitle","setBody","location","isNavigating","startNavigating","isSaving","saveNote","endpoint","method","isDeleting","deleteNote","handleSave","payload","requestedLocation","selectedId","isEditing","searchText","handleDelete","isDraft","autoComplete","onSubmit","e","preventDefault","htmlFor","id","type","value","onChange","target","role","disabled","onClick","src","width","height","alt"],"sourceRoot":""}