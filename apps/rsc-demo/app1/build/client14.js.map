{"version":3,"file":"client14.js","mappings":";;;;;;;;;;;;;;;AAAA,YAAY;;AAC4B;AACxC;AACA;AACkD;AAClD;AACsD;AAAA;AAEvC,SAASQ,iBAAiBA,CAAC;EAAEC;AAAa,CAAC,EAAE;EAC1D,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGV,+CAAQ,CAACQ,YAAY,CAAC;EAChD,MAAM,CAACG,OAAO,EAAEC,UAAU,CAAC,GAAGZ,+CAAQ,CAAC,KAAK,CAAC;EAE7C,eAAea,SAASA,CAAA,EAAG;IACzBD,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACF;MACA,MAAME,MAAM,GAAG,MAAMb,+DAAc,CAAC,CAAC;MAErC,IAAI,OAAOa,MAAM,KAAK,QAAQ,EAAE;QAC9BJ,QAAQ,CAACI,MAAM,CAAC;MAClB,CAAC,MAAM;QACLJ,QAAQ,CAAEK,CAAC,IAAKA,CAAC,GAAG,CAAC,CAAC;MACxB;IACF,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC/C,CAAC,SAAS;MACRJ,UAAU,CAAC,KAAK,CAAC;IACnB;EACF;EAEA,oBACER,uDAAA;IAAAc,QAAA,gBACEd,uDAAA;MAAAc,QAAA,GAAG,wBAAsB,EAACT,KAAK;IAAA,CAAI,CAAC,eACpCH,sDAAA;MACEa,OAAO,EAAEN,SAAU;MACnBO,QAAQ,EAAET,OAAQ;MAClB,gBAAcA,OAAO,GAAG,MAAM,GAAG,OAAQ;MACzC,aAAWA,OAAQ;MACnB,eAAY,qBAAqB;MAAAO,QAAA,EAEhCP,OAAO,GAAG,WAAW,GAAG;IAAqB,CACxC,CAAC;EAAA,CACN,CAAC;AAEV,C;;;;;;;;;;;;;AC3CA;AAC2F;AAC3F,MAAMW,UAAU,GAAGC,UAAU,CAACC,mBAAmB,KAAK,CAACC,EAAE,EAAEC,IAAI,KAAK;EAC1D,MAAM,IAAIC,KAAK,CAAC,gEAAgE,CAAC;AACnF,CAAC,CAAC;AAEH,MAAM1B,cAAc,GAAGoB,yGAAqB,CAAC,0FAA0F,EAAEC,UAAU,CAAC;AAEpJ,MAAMM,QAAQ,GAAGP,yGAAqB,CAAC,oFAAoF,EAAEC,UAAU,CAAC,C;;;;;;;;;ACR/I;AAC2F;AAC3F,MAAMA,UAAU,GAAGC,UAAU,CAACC,mBAAmB,KAAK,CAACC,EAAE,EAAEC,IAAI,KAAK;EAC1D,MAAM,IAAIC,KAAK,CAAC,gEAAgE,CAAC;AACnF,CAAC,CAAC;AAEV,MAAME,QAAQ,GAAGR,yGAAqB,CAAC,wFAAwF,EAAEC,UAAU,CAAC;AAC5I,+DAAeO,QAAQ,E","sources":["webpack://app1/./src/DemoCounterButton.js","webpack://app1/./src/server-actions.js","webpack://app1/./src/test-default-action.js"],"sourcesContent":["'use client';\nimport React, { useState } from 'react';\n// This import is transformed by the server-action-client-loader\n// into a createServerReference call at build time\nimport { incrementCount } from './server-actions';\n// Test default export action (for P1 bug regression test)\nimport testDefaultAction from './test-default-action';\n\nexport default function DemoCounterButton({ initialCount }) {\n  const [count, setCount] = useState(initialCount);\n  const [loading, setLoading] = useState(false);\n\n  async function increment() {\n    setLoading(true);\n    try {\n      // incrementCount is now a server reference that calls the server action\n      const result = await incrementCount();\n\n      if (typeof result === 'number') {\n        setCount(result);\n      } else {\n        setCount((c) => c + 1);\n      }\n    } catch (error) {\n      console.error('Server action failed:', error);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <div>\n      <p>Client view of count: {count}</p>\n      <button\n        onClick={increment}\n        disabled={loading}\n        data-loading={loading ? 'true' : 'false'}\n        aria-busy={loading}\n        data-testid=\"demo-counter-button\"\n      >\n        {loading ? 'Updatingâ€¦' : 'Increment on server'}\n      </button>\n    </div>\n  );\n}\n","\n// RSC Client Loader: 'use server' module transformed to server references\nimport { createServerReference } from '@module-federation/react-server-dom-webpack/client';\nconst callServer = globalThis.__RSC_CALL_SERVER__ || ((id, args) => {\n          throw new Error('callServer not initialized. Set globalThis.__RSC_CALL_SERVER__');\n        });\n\nexport const incrementCount = createServerReference('file:///Users/bytedance/dev/core/apps/rsc-demo/app1/src/server-actions.js#incrementCount', callServer);\n\nexport const getCount = createServerReference('file:///Users/bytedance/dev/core/apps/rsc-demo/app1/src/server-actions.js#getCount', callServer);\n","\n// RSC Client Loader: 'use server' module transformed to server references\nimport { createServerReference } from '@module-federation/react-server-dom-webpack/client';\nconst callServer = globalThis.__RSC_CALL_SERVER__ || ((id, args) => {\n          throw new Error('callServer not initialized. Set globalThis.__RSC_CALL_SERVER__');\n        });\n\nconst _default = createServerReference('file:///Users/bytedance/dev/core/apps/rsc-demo/app1/src/test-default-action.js#default', callServer);\nexport default _default;\n"],"names":["React","useState","incrementCount","testDefaultAction","jsxs","_jsxs","jsx","_jsx","DemoCounterButton","initialCount","count","setCount","loading","setLoading","increment","result","c","error","console","children","onClick","disabled","createServerReference","callServer","globalThis","__RSC_CALL_SERVER__","id","args","Error","getCount","_default"],"sourceRoot":""}