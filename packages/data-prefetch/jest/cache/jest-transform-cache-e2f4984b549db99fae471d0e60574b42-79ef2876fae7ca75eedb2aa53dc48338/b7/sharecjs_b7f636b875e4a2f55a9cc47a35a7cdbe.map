{"version":3,"sources":["/Users/bytedance/WebstormProjects/universe/packages/runtime/dist/share.cjs.js"],"sourcesContent":["'use strict';\n\nvar polyfills = require('./polyfills.cjs.js');\nvar sdk = require('@module-federation/sdk');\n\nfunction getBuilderId() {\n    //@ts-ignore\n    return typeof FEDERATION_BUILD_IDENTIFIER !== 'undefined' ? FEDERATION_BUILD_IDENTIFIER : '';\n}\n\nconst LOG_CATEGORY = '[ Federation Runtime ]';\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nfunction assert(condition, msg) {\n    if (!condition) {\n        error(msg);\n    }\n}\nfunction error(msg) {\n    if (msg instanceof Error) {\n        msg.message = `${LOG_CATEGORY}: ${msg.message}`;\n        throw msg;\n    }\n    throw new Error(`${LOG_CATEGORY}: ${msg}`);\n}\nfunction warn(msg) {\n    if (msg instanceof Error) {\n        msg.message = `${LOG_CATEGORY}: ${msg.message}`;\n        console.warn(msg);\n    } else {\n        console.warn(`${LOG_CATEGORY}: ${msg}`);\n    }\n}\n\nfunction addUniqueItem(arr, item) {\n    if (arr.findIndex((name)=>name === item) === -1) {\n        arr.push(item);\n    }\n    return arr;\n}\nfunction getFMId(remoteInfo) {\n    if ('version' in remoteInfo && remoteInfo.version) {\n        return `${remoteInfo.name}:${remoteInfo.version}`;\n    } else if ('entry' in remoteInfo && remoteInfo.entry) {\n        return `${remoteInfo.name}:${remoteInfo.entry}`;\n    } else {\n        return `${remoteInfo.name}`;\n    }\n}\nfunction isRemoteInfoWithEntry(remote) {\n    return typeof remote.entry !== 'undefined';\n}\nfunction isPureRemoteEntry(remote) {\n    return !remote.entry.includes('.json') && remote.entry.includes('.js');\n}\nfunction isObject(val) {\n    return val && typeof val === 'object';\n}\nconst objectToString = Object.prototype.toString;\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction isPlainObject(val) {\n    return objectToString.call(val) === '[object Object]';\n}\nfunction arrayOptions(options) {\n    return Array.isArray(options) ? options : [\n        options\n    ];\n}\nfunction getRemoteEntryInfoFromSnapshot(snapshot) {\n    const defaultRemoteEntryInfo = {\n        url: '',\n        type: 'global',\n        globalName: ''\n    };\n    if (sdk.isBrowserEnv()) {\n        return 'remoteEntry' in snapshot ? {\n            url: snapshot.remoteEntry,\n            type: snapshot.remoteEntryType,\n            globalName: snapshot.globalName\n        } : defaultRemoteEntryInfo;\n    }\n    if ('ssrRemoteEntry' in snapshot) {\n        return {\n            url: snapshot.ssrRemoteEntry || defaultRemoteEntryInfo.url,\n            type: snapshot.ssrRemoteEntryType || defaultRemoteEntryInfo.type,\n            globalName: snapshot.globalName\n        };\n    }\n    return defaultRemoteEntryInfo;\n}\n\nconst nativeGlobal = (()=>{\n    try {\n        return new Function('return this')();\n    } catch (e) {\n        return globalThis;\n    }\n})();\nconst Global = nativeGlobal;\nfunction definePropertyGlobalVal(target, key, val) {\n    Object.defineProperty(target, key, {\n        value: val,\n        configurable: false,\n        writable: true\n    });\n}\nfunction includeOwnProperty(target, key) {\n    return Object.hasOwnProperty.call(target, key);\n}\n// This section is to prevent encapsulation by certain microfrontend frameworks. Due to reuse policies, sandbox escapes.\n// The sandbox in the microfrontend does not replicate the value of 'configurable'.\n// If there is no loading content on the global object, this section defines the loading object.\nif (!includeOwnProperty(globalThis, '__GLOBAL_LOADING_REMOTE_ENTRY__')) {\n    definePropertyGlobalVal(globalThis, '__GLOBAL_LOADING_REMOTE_ENTRY__', {});\n}\nconst globalLoading = globalThis.__GLOBAL_LOADING_REMOTE_ENTRY__;\nfunction setGlobalDefaultVal(target) {\n    var _target___FEDERATION__, _target___FEDERATION__1, _target___FEDERATION__2, _target___FEDERATION__3, _target___FEDERATION__4, _target___FEDERATION__5;\n    if (includeOwnProperty(target, '__VMOK__') && !includeOwnProperty(target, '__FEDERATION__')) {\n        definePropertyGlobalVal(target, '__FEDERATION__', target.__VMOK__);\n    }\n    if (!includeOwnProperty(target, '__FEDERATION__')) {\n        definePropertyGlobalVal(target, '__FEDERATION__', {\n            __GLOBAL_PLUGIN__: [],\n            __INSTANCES__: [],\n            moduleInfo: {},\n            __SHARE__: {},\n            __MANIFEST_LOADING__: {},\n            __PRELOADED_MAP__: new Map()\n        });\n        definePropertyGlobalVal(target, '__VMOK__', target.__FEDERATION__);\n    }\n    var ___GLOBAL_PLUGIN__;\n    (___GLOBAL_PLUGIN__ = (_target___FEDERATION__ = target.__FEDERATION__).__GLOBAL_PLUGIN__) != null ? ___GLOBAL_PLUGIN__ : _target___FEDERATION__.__GLOBAL_PLUGIN__ = [];\n    var ___INSTANCES__;\n    (___INSTANCES__ = (_target___FEDERATION__1 = target.__FEDERATION__).__INSTANCES__) != null ? ___INSTANCES__ : _target___FEDERATION__1.__INSTANCES__ = [];\n    var _moduleInfo;\n    (_moduleInfo = (_target___FEDERATION__2 = target.__FEDERATION__).moduleInfo) != null ? _moduleInfo : _target___FEDERATION__2.moduleInfo = {};\n    var ___SHARE__;\n    (___SHARE__ = (_target___FEDERATION__3 = target.__FEDERATION__).__SHARE__) != null ? ___SHARE__ : _target___FEDERATION__3.__SHARE__ = {};\n    var ___MANIFEST_LOADING__;\n    (___MANIFEST_LOADING__ = (_target___FEDERATION__4 = target.__FEDERATION__).__MANIFEST_LOADING__) != null ? ___MANIFEST_LOADING__ : _target___FEDERATION__4.__MANIFEST_LOADING__ = {};\n    var ___PRELOADED_MAP__;\n    (___PRELOADED_MAP__ = (_target___FEDERATION__5 = target.__FEDERATION__).__PRELOADED_MAP__) != null ? ___PRELOADED_MAP__ : _target___FEDERATION__5.__PRELOADED_MAP__ = new Map();\n}\nsetGlobalDefaultVal(globalThis);\nsetGlobalDefaultVal(nativeGlobal);\nfunction resetFederationGlobalInfo() {\n    globalThis.__FEDERATION__.__GLOBAL_PLUGIN__ = [];\n    globalThis.__FEDERATION__.__INSTANCES__ = [];\n    globalThis.__FEDERATION__.moduleInfo = {};\n    globalThis.__FEDERATION__.__SHARE__ = {};\n    globalThis.__FEDERATION__.__MANIFEST_LOADING__ = {};\n}\nfunction getGlobalFederationInstance(name, version) {\n    const buildId = getBuilderId();\n    return globalThis.__FEDERATION__.__INSTANCES__.find((GMInstance)=>{\n        if (buildId && GMInstance.options.id === getBuilderId()) {\n            return true;\n        }\n        if (GMInstance.options.name === name && !GMInstance.options.version && !version) {\n            return true;\n        }\n        if (GMInstance.options.name === name && version && GMInstance.options.version === version) {\n            return true;\n        }\n        return false;\n    });\n}\nfunction setGlobalFederationInstance(FederationInstance) {\n    globalThis.__FEDERATION__.__INSTANCES__.push(FederationInstance);\n}\nfunction getGlobalFederationConstructor() {\n    return globalThis.__FEDERATION__.__DEBUG_CONSTRUCTOR__;\n}\nfunction setGlobalFederationConstructor(FederationConstructor, isDebug = sdk.isDebugMode()) {\n    if (isDebug) {\n        globalThis.__FEDERATION__.__DEBUG_CONSTRUCTOR__ = FederationConstructor;\n        globalThis.__FEDERATION__.__DEBUG_CONSTRUCTOR_VERSION__ = \"0.6.4\";\n    }\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction getInfoWithoutType(target, key) {\n    if (typeof key === 'string') {\n        const keyRes = target[key];\n        if (keyRes) {\n            return {\n                value: target[key],\n                key: key\n            };\n        } else {\n            const targetKeys = Object.keys(target);\n            for (const targetKey of targetKeys){\n                const [targetTypeOrName, _] = targetKey.split(':');\n                const nKey = `${targetTypeOrName}:${key}`;\n                const typeWithKeyRes = target[nKey];\n                if (typeWithKeyRes) {\n                    return {\n                        value: typeWithKeyRes,\n                        key: nKey\n                    };\n                }\n            }\n            return {\n                value: undefined,\n                key: key\n            };\n        }\n    } else {\n        throw new Error('key must be string');\n    }\n}\nconst getGlobalSnapshot = ()=>nativeGlobal.__FEDERATION__.moduleInfo;\nconst getTargetSnapshotInfoByModuleInfo = (moduleInfo, snapshot)=>{\n    // Check if the remote is included in the hostSnapshot\n    const moduleKey = getFMId(moduleInfo);\n    const getModuleInfo = getInfoWithoutType(snapshot, moduleKey).value;\n    // The remoteSnapshot might not include a version\n    if (getModuleInfo && !getModuleInfo.version && 'version' in moduleInfo && moduleInfo['version']) {\n        getModuleInfo.version = moduleInfo['version'];\n    }\n    if (getModuleInfo) {\n        return getModuleInfo;\n    }\n    // If the remote is not included in the hostSnapshot, deploy a micro app snapshot\n    if ('version' in moduleInfo && moduleInfo['version']) {\n        const { version } = moduleInfo, resModuleInfo = polyfills._object_without_properties_loose(moduleInfo, [\n            \"version\"\n        ]);\n        const moduleKeyWithoutVersion = getFMId(resModuleInfo);\n        const getModuleInfoWithoutVersion = getInfoWithoutType(nativeGlobal.__FEDERATION__.moduleInfo, moduleKeyWithoutVersion).value;\n        if ((getModuleInfoWithoutVersion == null ? void 0 : getModuleInfoWithoutVersion.version) === version) {\n            return getModuleInfoWithoutVersion;\n        }\n    }\n    return;\n};\nconst getGlobalSnapshotInfoByModuleInfo = (moduleInfo)=>getTargetSnapshotInfoByModuleInfo(moduleInfo, nativeGlobal.__FEDERATION__.moduleInfo);\nconst setGlobalSnapshotInfoByModuleInfo = (remoteInfo, moduleDetailInfo)=>{\n    const moduleKey = getFMId(remoteInfo);\n    nativeGlobal.__FEDERATION__.moduleInfo[moduleKey] = moduleDetailInfo;\n    return nativeGlobal.__FEDERATION__.moduleInfo;\n};\nconst addGlobalSnapshot = (moduleInfos)=>{\n    nativeGlobal.__FEDERATION__.moduleInfo = polyfills._extends({}, nativeGlobal.__FEDERATION__.moduleInfo, moduleInfos);\n    return ()=>{\n        const keys = Object.keys(moduleInfos);\n        for (const key of keys){\n            delete nativeGlobal.__FEDERATION__.moduleInfo[key];\n        }\n    };\n};\nconst getRemoteEntryExports = (name, globalName)=>{\n    const remoteEntryKey = globalName || `__FEDERATION_${name}:custom__`;\n    const entryExports = globalThis[remoteEntryKey];\n    return {\n        remoteEntryKey,\n        entryExports\n    };\n};\n// This function is used to register global plugins.\n// It iterates over the provided plugins and checks if they are already registered.\n// If a plugin is not registered, it is added to the global plugins.\n// If a plugin is already registered, a warning message is logged.\nconst registerGlobalPlugins = (plugins)=>{\n    const { __GLOBAL_PLUGIN__ } = nativeGlobal.__FEDERATION__;\n    plugins.forEach((plugin)=>{\n        if (__GLOBAL_PLUGIN__.findIndex((p)=>p.name === plugin.name) === -1) {\n            __GLOBAL_PLUGIN__.push(plugin);\n        } else {\n            warn(`The plugin ${plugin.name} has been registered.`);\n        }\n    });\n};\nconst getGlobalHostPlugins = ()=>nativeGlobal.__FEDERATION__.__GLOBAL_PLUGIN__;\nconst getPreloaded = (id)=>globalThis.__FEDERATION__.__PRELOADED_MAP__.get(id);\nconst setPreloaded = (id)=>globalThis.__FEDERATION__.__PRELOADED_MAP__.set(id, true);\n\nconst DEFAULT_SCOPE = 'default';\nconst DEFAULT_REMOTE_TYPE = 'global';\n\n// fork from https://github.com/originjs/vite-plugin-federation/blob/v1.1.12/packages/lib/src/utils/semver/index.ts\n// those constants are based on https://www.rubydoc.info/gems/semantic_range/3.0.0/SemanticRange#BUILDIDENTIFIER-constant\n// Copyright (c)\n// vite-plugin-federation is licensed under Mulan PSL v2.\n// You can use this software according to the terms and conditions of the Mulan PSL v2.\n// You may obtain a copy of Mulan PSL v2 at:\n//      http://license.coscl.org.cn/MulanPSL2\n// THIS SOFTWARE IS PROVIDED ON AN \"AS IS\" BASIS, WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT, MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.\n// See the Mulan PSL v2 for more details.\nconst buildIdentifier = '[0-9A-Za-z-]+';\nconst build = `(?:\\\\+(${buildIdentifier}(?:\\\\.${buildIdentifier})*))`;\nconst numericIdentifier = '0|[1-9]\\\\d*';\nconst numericIdentifierLoose = '[0-9]+';\nconst nonNumericIdentifier = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*';\nconst preReleaseIdentifierLoose = `(?:${numericIdentifierLoose}|${nonNumericIdentifier})`;\nconst preReleaseLoose = `(?:-?(${preReleaseIdentifierLoose}(?:\\\\.${preReleaseIdentifierLoose})*))`;\nconst preReleaseIdentifier = `(?:${numericIdentifier}|${nonNumericIdentifier})`;\nconst preRelease = `(?:-(${preReleaseIdentifier}(?:\\\\.${preReleaseIdentifier})*))`;\nconst xRangeIdentifier = `${numericIdentifier}|x|X|\\\\*`;\nconst xRangePlain = `[v=\\\\s]*(${xRangeIdentifier})(?:\\\\.(${xRangeIdentifier})(?:\\\\.(${xRangeIdentifier})(?:${preRelease})?${build}?)?)?`;\nconst hyphenRange = `^\\\\s*(${xRangePlain})\\\\s+-\\\\s+(${xRangePlain})\\\\s*$`;\nconst mainVersionLoose = `(${numericIdentifierLoose})\\\\.(${numericIdentifierLoose})\\\\.(${numericIdentifierLoose})`;\nconst loosePlain = `[v=\\\\s]*${mainVersionLoose}${preReleaseLoose}?${build}?`;\nconst gtlt = '((?:<|>)?=?)';\nconst comparatorTrim = `(\\\\s*)${gtlt}\\\\s*(${loosePlain}|${xRangePlain})`;\nconst loneTilde = '(?:~>?)';\nconst tildeTrim = `(\\\\s*)${loneTilde}\\\\s+`;\nconst loneCaret = '(?:\\\\^)';\nconst caretTrim = `(\\\\s*)${loneCaret}\\\\s+`;\nconst star = '(<|>)?=?\\\\s*\\\\*';\nconst caret = `^${loneCaret}${xRangePlain}$`;\nconst mainVersion = `(${numericIdentifier})\\\\.(${numericIdentifier})\\\\.(${numericIdentifier})`;\nconst fullPlain = `v?${mainVersion}${preRelease}?${build}?`;\nconst tilde = `^${loneTilde}${xRangePlain}$`;\nconst xRange = `^${gtlt}\\\\s*${xRangePlain}$`;\nconst comparator = `^${gtlt}\\\\s*(${fullPlain})$|^$`;\n// copy from semver package\nconst gte0 = '^\\\\s*>=\\\\s*0.0.0\\\\s*$';\n\n// fork from https://github.com/originjs/vite-plugin-federation/blob/v1.1.12/packages/lib/src/utils/semver/index.ts\nfunction parseRegex(source) {\n    return new RegExp(source);\n}\nfunction isXVersion(version) {\n    return !version || version.toLowerCase() === 'x' || version === '*';\n}\nfunction pipe(...fns) {\n    return (x)=>fns.reduce((v, f)=>f(v), x);\n}\nfunction extractComparator(comparatorString) {\n    return comparatorString.match(parseRegex(comparator));\n}\nfunction combineVersion(major, minor, patch, preRelease) {\n    const mainVersion = `${major}.${minor}.${patch}`;\n    if (preRelease) {\n        return `${mainVersion}-${preRelease}`;\n    }\n    return mainVersion;\n}\n\n// fork from https://github.com/originjs/vite-plugin-federation/blob/v1.1.12/packages/lib/src/utils/semver/index.ts\nfunction parseHyphen(range) {\n    return range.replace(parseRegex(hyphenRange), (_range, from, fromMajor, fromMinor, fromPatch, _fromPreRelease, _fromBuild, to, toMajor, toMinor, toPatch, toPreRelease)=>{\n        if (isXVersion(fromMajor)) {\n            from = '';\n        } else if (isXVersion(fromMinor)) {\n            from = `>=${fromMajor}.0.0`;\n        } else if (isXVersion(fromPatch)) {\n            from = `>=${fromMajor}.${fromMinor}.0`;\n        } else {\n            from = `>=${from}`;\n        }\n        if (isXVersion(toMajor)) {\n            to = '';\n        } else if (isXVersion(toMinor)) {\n            to = `<${Number(toMajor) + 1}.0.0-0`;\n        } else if (isXVersion(toPatch)) {\n            to = `<${toMajor}.${Number(toMinor) + 1}.0-0`;\n        } else if (toPreRelease) {\n            to = `<=${toMajor}.${toMinor}.${toPatch}-${toPreRelease}`;\n        } else {\n            to = `<=${to}`;\n        }\n        return `${from} ${to}`.trim();\n    });\n}\nfunction parseComparatorTrim(range) {\n    return range.replace(parseRegex(comparatorTrim), '$1$2$3');\n}\nfunction parseTildeTrim(range) {\n    return range.replace(parseRegex(tildeTrim), '$1~');\n}\nfunction parseCaretTrim(range) {\n    return range.replace(parseRegex(caretTrim), '$1^');\n}\nfunction parseCarets(range) {\n    return range.trim().split(/\\s+/).map((rangeVersion)=>rangeVersion.replace(parseRegex(caret), (_, major, minor, patch, preRelease)=>{\n            if (isXVersion(major)) {\n                return '';\n            } else if (isXVersion(minor)) {\n                return `>=${major}.0.0 <${Number(major) + 1}.0.0-0`;\n            } else if (isXVersion(patch)) {\n                if (major === '0') {\n                    return `>=${major}.${minor}.0 <${major}.${Number(minor) + 1}.0-0`;\n                } else {\n                    return `>=${major}.${minor}.0 <${Number(major) + 1}.0.0-0`;\n                }\n            } else if (preRelease) {\n                if (major === '0') {\n                    if (minor === '0') {\n                        return `>=${major}.${minor}.${patch}-${preRelease} <${major}.${minor}.${Number(patch) + 1}-0`;\n                    } else {\n                        return `>=${major}.${minor}.${patch}-${preRelease} <${major}.${Number(minor) + 1}.0-0`;\n                    }\n                } else {\n                    return `>=${major}.${minor}.${patch}-${preRelease} <${Number(major) + 1}.0.0-0`;\n                }\n            } else {\n                if (major === '0') {\n                    if (minor === '0') {\n                        return `>=${major}.${minor}.${patch} <${major}.${minor}.${Number(patch) + 1}-0`;\n                    } else {\n                        return `>=${major}.${minor}.${patch} <${major}.${Number(minor) + 1}.0-0`;\n                    }\n                }\n                return `>=${major}.${minor}.${patch} <${Number(major) + 1}.0.0-0`;\n            }\n        })).join(' ');\n}\nfunction parseTildes(range) {\n    return range.trim().split(/\\s+/).map((rangeVersion)=>rangeVersion.replace(parseRegex(tilde), (_, major, minor, patch, preRelease)=>{\n            if (isXVersion(major)) {\n                return '';\n            } else if (isXVersion(minor)) {\n                return `>=${major}.0.0 <${Number(major) + 1}.0.0-0`;\n            } else if (isXVersion(patch)) {\n                return `>=${major}.${minor}.0 <${major}.${Number(minor) + 1}.0-0`;\n            } else if (preRelease) {\n                return `>=${major}.${minor}.${patch}-${preRelease} <${major}.${Number(minor) + 1}.0-0`;\n            }\n            return `>=${major}.${minor}.${patch} <${major}.${Number(minor) + 1}.0-0`;\n        })).join(' ');\n}\nfunction parseXRanges(range) {\n    return range.split(/\\s+/).map((rangeVersion)=>rangeVersion.trim().replace(parseRegex(xRange), (ret, gtlt, major, minor, patch, preRelease)=>{\n            const isXMajor = isXVersion(major);\n            const isXMinor = isXMajor || isXVersion(minor);\n            const isXPatch = isXMinor || isXVersion(patch);\n            if (gtlt === '=' && isXPatch) {\n                gtlt = '';\n            }\n            preRelease = '';\n            if (isXMajor) {\n                if (gtlt === '>' || gtlt === '<') {\n                    // nothing is allowed\n                    return '<0.0.0-0';\n                } else {\n                    // nothing is forbidden\n                    return '*';\n                }\n            } else if (gtlt && isXPatch) {\n                // replace X with 0\n                if (isXMinor) {\n                    minor = 0;\n                }\n                patch = 0;\n                if (gtlt === '>') {\n                    // >1 => >=2.0.0\n                    // >1.2 => >=1.3.0\n                    gtlt = '>=';\n                    if (isXMinor) {\n                        major = Number(major) + 1;\n                        minor = 0;\n                        patch = 0;\n                    } else {\n                        minor = Number(minor) + 1;\n                        patch = 0;\n                    }\n                } else if (gtlt === '<=') {\n                    // <=0.7.x is actually <0.8.0, since any 0.7.x should pass\n                    // Similarly, <=7.x is actually <8.0.0, etc.\n                    gtlt = '<';\n                    if (isXMinor) {\n                        major = Number(major) + 1;\n                    } else {\n                        minor = Number(minor) + 1;\n                    }\n                }\n                if (gtlt === '<') {\n                    preRelease = '-0';\n                }\n                return `${gtlt + major}.${minor}.${patch}${preRelease}`;\n            } else if (isXMinor) {\n                return `>=${major}.0.0${preRelease} <${Number(major) + 1}.0.0-0`;\n            } else if (isXPatch) {\n                return `>=${major}.${minor}.0${preRelease} <${major}.${Number(minor) + 1}.0-0`;\n            }\n            return ret;\n        })).join(' ');\n}\nfunction parseStar(range) {\n    return range.trim().replace(parseRegex(star), '');\n}\nfunction parseGTE0(comparatorString) {\n    return comparatorString.trim().replace(parseRegex(gte0), '');\n}\n\n// fork from https://github.com/originjs/vite-plugin-federation/blob/v1.1.12/packages/lib/src/utils/semver/index.ts\n// Copyright (c)\n// vite-plugin-federation is licensed under Mulan PSL v2.\n// You can use this software according to the terms and conditions of the Mulan PSL v2.\n// You may obtain a copy of Mulan PSL v2 at:\n//      http://license.coscl.org.cn/MulanPSL2\n// THIS SOFTWARE IS PROVIDED ON AN \"AS IS\" BASIS, WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT, MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.\n// See the Mulan PSL v2 for more details.\nfunction compareAtom(rangeAtom, versionAtom) {\n    rangeAtom = Number(rangeAtom) || rangeAtom;\n    versionAtom = Number(versionAtom) || versionAtom;\n    if (rangeAtom > versionAtom) {\n        return 1;\n    }\n    if (rangeAtom === versionAtom) {\n        return 0;\n    }\n    return -1;\n}\nfunction comparePreRelease(rangeAtom, versionAtom) {\n    const { preRelease: rangePreRelease } = rangeAtom;\n    const { preRelease: versionPreRelease } = versionAtom;\n    if (rangePreRelease === undefined && Boolean(versionPreRelease)) {\n        return 1;\n    }\n    if (Boolean(rangePreRelease) && versionPreRelease === undefined) {\n        return -1;\n    }\n    if (rangePreRelease === undefined && versionPreRelease === undefined) {\n        return 0;\n    }\n    for(let i = 0, n = rangePreRelease.length; i <= n; i++){\n        const rangeElement = rangePreRelease[i];\n        const versionElement = versionPreRelease[i];\n        if (rangeElement === versionElement) {\n            continue;\n        }\n        if (rangeElement === undefined && versionElement === undefined) {\n            return 0;\n        }\n        if (!rangeElement) {\n            return 1;\n        }\n        if (!versionElement) {\n            return -1;\n        }\n        return compareAtom(rangeElement, versionElement);\n    }\n    return 0;\n}\nfunction compareVersion(rangeAtom, versionAtom) {\n    return compareAtom(rangeAtom.major, versionAtom.major) || compareAtom(rangeAtom.minor, versionAtom.minor) || compareAtom(rangeAtom.patch, versionAtom.patch) || comparePreRelease(rangeAtom, versionAtom);\n}\nfunction eq(rangeAtom, versionAtom) {\n    return rangeAtom.version === versionAtom.version;\n}\nfunction compare(rangeAtom, versionAtom) {\n    switch(rangeAtom.operator){\n        case '':\n        case '=':\n            return eq(rangeAtom, versionAtom);\n        case '>':\n            return compareVersion(rangeAtom, versionAtom) < 0;\n        case '>=':\n            return eq(rangeAtom, versionAtom) || compareVersion(rangeAtom, versionAtom) < 0;\n        case '<':\n            return compareVersion(rangeAtom, versionAtom) > 0;\n        case '<=':\n            return eq(rangeAtom, versionAtom) || compareVersion(rangeAtom, versionAtom) > 0;\n        case undefined:\n            {\n                // mean * or x -> all versions\n                return true;\n            }\n        default:\n            return false;\n    }\n}\n\n// fork from https://github.com/originjs/vite-plugin-federation/blob/v1.1.12/packages/lib/src/utils/semver/index.ts\nfunction parseComparatorString(range) {\n    return pipe(// handle caret\n    // ^ --> * (any, kinda silly)\n    // ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n    // ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n    // ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n    // ^1.2.3 --> >=1.2.3 <2.0.0-0\n    // ^1.2.0 --> >=1.2.0 <2.0.0-0\n    parseCarets, // handle tilde\n    // ~, ~> --> * (any, kinda silly)\n    // ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n    // ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n    // ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n    // ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n    // ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\n    parseTildes, parseXRanges, parseStar)(range);\n}\nfunction parseRange(range) {\n    return pipe(// handle hyphenRange\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    parseHyphen, // handle trim comparator\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    parseComparatorTrim, // handle trim tilde\n    // `~ 1.2.3` => `~1.2.3`\n    parseTildeTrim, // handle trim caret\n    // `^ 1.2.3` => `^1.2.3`\n    parseCaretTrim)(range.trim()).split(/\\s+/).join(' ');\n}\nfunction satisfy(version, range) {\n    if (!version) {\n        return false;\n    }\n    const parsedRange = parseRange(range);\n    const parsedComparator = parsedRange.split(' ').map((rangeVersion)=>parseComparatorString(rangeVersion)).join(' ');\n    const comparators = parsedComparator.split(/\\s+/).map((comparator)=>parseGTE0(comparator));\n    const extractedVersion = extractComparator(version);\n    if (!extractedVersion) {\n        return false;\n    }\n    const [, versionOperator, , versionMajor, versionMinor, versionPatch, versionPreRelease] = extractedVersion;\n    const versionAtom = {\n        operator: versionOperator,\n        version: combineVersion(versionMajor, versionMinor, versionPatch, versionPreRelease),\n        major: versionMajor,\n        minor: versionMinor,\n        patch: versionPatch,\n        preRelease: versionPreRelease == null ? void 0 : versionPreRelease.split('.')\n    };\n    for (const comparator of comparators){\n        const extractedComparator = extractComparator(comparator);\n        if (!extractedComparator) {\n            return false;\n        }\n        const [, rangeOperator, , rangeMajor, rangeMinor, rangePatch, rangePreRelease] = extractedComparator;\n        const rangeAtom = {\n            operator: rangeOperator,\n            version: combineVersion(rangeMajor, rangeMinor, rangePatch, rangePreRelease),\n            major: rangeMajor,\n            minor: rangeMinor,\n            patch: rangePatch,\n            preRelease: rangePreRelease == null ? void 0 : rangePreRelease.split('.')\n        };\n        if (!compare(rangeAtom, versionAtom)) {\n            return false; // early return\n        }\n    }\n    return true;\n}\n\nfunction formatShare(shareArgs, from, name, shareStrategy) {\n    let get;\n    if ('get' in shareArgs) {\n        // eslint-disable-next-line prefer-destructuring\n        get = shareArgs.get;\n    } else if ('lib' in shareArgs) {\n        get = ()=>Promise.resolve(shareArgs.lib);\n    } else {\n        get = ()=>Promise.resolve(()=>{\n                throw new Error(`Can not get shared '${name}'!`);\n            });\n    }\n    if (shareArgs.strategy) {\n        warn(`\"shared.strategy is deprecated, please set in initOptions.shareStrategy instead!\"`);\n    }\n    var _shareArgs_version, _shareArgs_scope, _shareArgs_strategy;\n    return polyfills._extends({\n        deps: [],\n        useIn: [],\n        from,\n        loading: null\n    }, shareArgs, {\n        shareConfig: polyfills._extends({\n            requiredVersion: `^${shareArgs.version}`,\n            singleton: false,\n            eager: false,\n            strictVersion: false\n        }, shareArgs.shareConfig),\n        get,\n        loaded: (shareArgs == null ? void 0 : shareArgs.loaded) || 'lib' in shareArgs ? true : undefined,\n        version: (_shareArgs_version = shareArgs.version) != null ? _shareArgs_version : '0',\n        scope: Array.isArray(shareArgs.scope) ? shareArgs.scope : [\n            (_shareArgs_scope = shareArgs.scope) != null ? _shareArgs_scope : 'default'\n        ],\n        strategy: ((_shareArgs_strategy = shareArgs.strategy) != null ? _shareArgs_strategy : shareStrategy) || 'version-first'\n    });\n}\nfunction formatShareConfigs(globalOptions, userOptions) {\n    const shareArgs = userOptions.shared || {};\n    const from = userOptions.name;\n    const shareInfos = Object.keys(shareArgs).reduce((res, pkgName)=>{\n        const arrayShareArgs = arrayOptions(shareArgs[pkgName]);\n        res[pkgName] = res[pkgName] || [];\n        arrayShareArgs.forEach((shareConfig)=>{\n            res[pkgName].push(formatShare(shareConfig, from, pkgName, userOptions.shareStrategy));\n        });\n        return res;\n    }, {});\n    const shared = polyfills._extends({}, globalOptions.shared);\n    Object.keys(shareInfos).forEach((shareKey)=>{\n        if (!shared[shareKey]) {\n            shared[shareKey] = shareInfos[shareKey];\n        } else {\n            shareInfos[shareKey].forEach((newUserSharedOptions)=>{\n                const isSameVersion = shared[shareKey].find((sharedVal)=>sharedVal.version === newUserSharedOptions.version);\n                if (!isSameVersion) {\n                    shared[shareKey].push(newUserSharedOptions);\n                }\n            });\n        }\n    });\n    return {\n        shared,\n        shareInfos\n    };\n}\nfunction versionLt(a, b) {\n    const transformInvalidVersion = (version)=>{\n        const isNumberVersion = !Number.isNaN(Number(version));\n        if (isNumberVersion) {\n            const splitArr = version.split('.');\n            let validVersion = version;\n            for(let i = 0; i < 3 - splitArr.length; i++){\n                validVersion += '.0';\n            }\n            return validVersion;\n        }\n        return version;\n    };\n    if (satisfy(transformInvalidVersion(a), `<=${transformInvalidVersion(b)}`)) {\n        return true;\n    } else {\n        return false;\n    }\n}\nconst findVersion = (shareVersionMap, cb)=>{\n    const callback = cb || function(prev, cur) {\n        return versionLt(prev, cur);\n    };\n    return Object.keys(shareVersionMap).reduce((prev, cur)=>{\n        if (!prev) {\n            return cur;\n        }\n        if (callback(prev, cur)) {\n            return cur;\n        }\n        // default version is '0' https://github.com/webpack/webpack/blob/main/lib/sharing/ProvideSharedModule.js#L136\n        if (prev === '0') {\n            return cur;\n        }\n        return prev;\n    }, 0);\n};\nconst isLoaded = (shared)=>{\n    return Boolean(shared.loaded) || typeof shared.lib === 'function';\n};\nfunction findSingletonVersionOrderByVersion(shareScopeMap, scope, pkgName) {\n    const versions = shareScopeMap[scope][pkgName];\n    const callback = function(prev, cur) {\n        return !isLoaded(versions[prev]) && versionLt(prev, cur);\n    };\n    return findVersion(shareScopeMap[scope][pkgName], callback);\n}\nfunction findSingletonVersionOrderByLoaded(shareScopeMap, scope, pkgName) {\n    const versions = shareScopeMap[scope][pkgName];\n    const callback = function(prev, cur) {\n        if (isLoaded(versions[cur])) {\n            if (isLoaded(versions[prev])) {\n                return Boolean(versionLt(prev, cur));\n            } else {\n                return true;\n            }\n        }\n        if (isLoaded(versions[prev])) {\n            return false;\n        }\n        return versionLt(prev, cur);\n    };\n    return findVersion(shareScopeMap[scope][pkgName], callback);\n}\nfunction getFindShareFunction(strategy) {\n    if (strategy === 'loaded-first') {\n        return findSingletonVersionOrderByLoaded;\n    }\n    return findSingletonVersionOrderByVersion;\n}\nfunction getRegisteredShare(localShareScopeMap, pkgName, shareInfo, resolveShare) {\n    if (!localShareScopeMap) {\n        return;\n    }\n    const { shareConfig, scope = DEFAULT_SCOPE, strategy } = shareInfo;\n    const scopes = Array.isArray(scope) ? scope : [\n        scope\n    ];\n    for (const sc of scopes){\n        if (shareConfig && localShareScopeMap[sc] && localShareScopeMap[sc][pkgName]) {\n            const { requiredVersion } = shareConfig;\n            const findShareFunction = getFindShareFunction(strategy);\n            const maxOrSingletonVersion = findShareFunction(localShareScopeMap, sc, pkgName);\n            //@ts-ignore\n            const defaultResolver = ()=>{\n                if (shareConfig.singleton) {\n                    if (typeof requiredVersion === 'string' && !satisfy(maxOrSingletonVersion, requiredVersion)) {\n                        const msg = `Version ${maxOrSingletonVersion} from ${maxOrSingletonVersion && localShareScopeMap[sc][pkgName][maxOrSingletonVersion].from} of shared singleton module ${pkgName} does not satisfy the requirement of ${shareInfo.from} which needs ${requiredVersion})`;\n                        if (shareConfig.strictVersion) {\n                            error(msg);\n                        } else {\n                            warn(msg);\n                        }\n                    }\n                    return localShareScopeMap[sc][pkgName][maxOrSingletonVersion];\n                } else {\n                    if (requiredVersion === false || requiredVersion === '*') {\n                        return localShareScopeMap[sc][pkgName][maxOrSingletonVersion];\n                    }\n                    if (satisfy(maxOrSingletonVersion, requiredVersion)) {\n                        return localShareScopeMap[sc][pkgName][maxOrSingletonVersion];\n                    }\n                    for (const [versionKey, versionValue] of Object.entries(localShareScopeMap[sc][pkgName])){\n                        if (satisfy(versionKey, requiredVersion)) {\n                            return versionValue;\n                        }\n                    }\n                }\n            };\n            const params = {\n                shareScopeMap: localShareScopeMap,\n                scope: sc,\n                pkgName,\n                version: maxOrSingletonVersion,\n                GlobalFederation: Global.__FEDERATION__,\n                resolver: defaultResolver\n            };\n            const resolveShared = resolveShare.emit(params) || params;\n            return resolveShared.resolver();\n        }\n    }\n}\nfunction getGlobalShareScope() {\n    return Global.__FEDERATION__.__SHARE__;\n}\nfunction getTargetSharedOptions(options) {\n    const { pkgName, extraOptions, shareInfos } = options;\n    const defaultResolver = (sharedOptions)=>{\n        if (!sharedOptions) {\n            return undefined;\n        }\n        const shareVersionMap = {};\n        sharedOptions.forEach((shared)=>{\n            shareVersionMap[shared.version] = shared;\n        });\n        const callback = function(prev, cur) {\n            return !isLoaded(shareVersionMap[prev]) && versionLt(prev, cur);\n        };\n        const maxVersion = findVersion(shareVersionMap, callback);\n        return shareVersionMap[maxVersion];\n    };\n    var _extraOptions_resolver;\n    const resolver = (_extraOptions_resolver = extraOptions == null ? void 0 : extraOptions.resolver) != null ? _extraOptions_resolver : defaultResolver;\n    return Object.assign({}, resolver(shareInfos[pkgName]), extraOptions == null ? void 0 : extraOptions.customShareInfo);\n}\n\nexports.DEFAULT_REMOTE_TYPE = DEFAULT_REMOTE_TYPE;\nexports.DEFAULT_SCOPE = DEFAULT_SCOPE;\nexports.Global = Global;\nexports.addGlobalSnapshot = addGlobalSnapshot;\nexports.addUniqueItem = addUniqueItem;\nexports.arrayOptions = arrayOptions;\nexports.assert = assert;\nexports.error = error;\nexports.formatShareConfigs = formatShareConfigs;\nexports.getBuilderId = getBuilderId;\nexports.getFMId = getFMId;\nexports.getGlobalFederationConstructor = getGlobalFederationConstructor;\nexports.getGlobalFederationInstance = getGlobalFederationInstance;\nexports.getGlobalHostPlugins = getGlobalHostPlugins;\nexports.getGlobalShareScope = getGlobalShareScope;\nexports.getGlobalSnapshot = getGlobalSnapshot;\nexports.getGlobalSnapshotInfoByModuleInfo = getGlobalSnapshotInfoByModuleInfo;\nexports.getInfoWithoutType = getInfoWithoutType;\nexports.getPreloaded = getPreloaded;\nexports.getRegisteredShare = getRegisteredShare;\nexports.getRemoteEntryExports = getRemoteEntryExports;\nexports.getRemoteEntryInfoFromSnapshot = getRemoteEntryInfoFromSnapshot;\nexports.getTargetSharedOptions = getTargetSharedOptions;\nexports.getTargetSnapshotInfoByModuleInfo = getTargetSnapshotInfoByModuleInfo;\nexports.globalLoading = globalLoading;\nexports.isObject = isObject;\nexports.isPlainObject = isPlainObject;\nexports.isPureRemoteEntry = isPureRemoteEntry;\nexports.isRemoteInfoWithEntry = isRemoteInfoWithEntry;\nexports.nativeGlobal = nativeGlobal;\nexports.registerGlobalPlugins = registerGlobalPlugins;\nexports.resetFederationGlobalInfo = resetFederationGlobalInfo;\nexports.setGlobalFederationConstructor = setGlobalFederationConstructor;\nexports.setGlobalFederationInstance = setGlobalFederationInstance;\nexports.setGlobalSnapshotInfoByModuleInfo = setGlobalSnapshotInfoByModuleInfo;\nexports.setPreloaded = setPreloaded;\nexports.warn = warn;\n"],"names":["polyfills","require","sdk","getBuilderId","FEDERATION_BUILD_IDENTIFIER","LOG_CATEGORY","assert","condition","msg","error","Error","message","warn","console","addUniqueItem","arr","item","findIndex","name","push","getFMId","remoteInfo","version","entry","isRemoteInfoWithEntry","remote","isPureRemoteEntry","includes","isObject","val","objectToString","Object","prototype","toString","isPlainObject","call","arrayOptions","options","Array","isArray","getRemoteEntryInfoFromSnapshot","snapshot","defaultRemoteEntryInfo","url","type","globalName","isBrowserEnv","remoteEntry","remoteEntryType","ssrRemoteEntry","ssrRemoteEntryType","nativeGlobal","Function","e","globalThis","Global","definePropertyGlobalVal","target","key","defineProperty","value","configurable","writable","includeOwnProperty","hasOwnProperty","globalLoading","__GLOBAL_LOADING_REMOTE_ENTRY__","setGlobalDefaultVal","_target___FEDERATION__","_target___FEDERATION__1","_target___FEDERATION__2","_target___FEDERATION__3","_target___FEDERATION__4","_target___FEDERATION__5","__VMOK__","__GLOBAL_PLUGIN__","__INSTANCES__","moduleInfo","__SHARE__","__MANIFEST_LOADING__","__PRELOADED_MAP__","Map","__FEDERATION__","___GLOBAL_PLUGIN__","___INSTANCES__","_moduleInfo","___SHARE__","___MANIFEST_LOADING__","___PRELOADED_MAP__","resetFederationGlobalInfo","getGlobalFederationInstance","buildId","find","GMInstance","id","setGlobalFederationInstance","FederationInstance","getGlobalFederationConstructor","__DEBUG_CONSTRUCTOR__","setGlobalFederationConstructor","FederationConstructor","isDebug","isDebugMode","__DEBUG_CONSTRUCTOR_VERSION__","getInfoWithoutType","keyRes","targetKeys","keys","targetKey","targetTypeOrName","_","split","nKey","typeWithKeyRes","undefined","getGlobalSnapshot","getTargetSnapshotInfoByModuleInfo","moduleKey","getModuleInfo","resModuleInfo","_object_without_properties_loose","moduleKeyWithoutVersion","getModuleInfoWithoutVersion","getGlobalSnapshotInfoByModuleInfo","setGlobalSnapshotInfoByModuleInfo","moduleDetailInfo","addGlobalSnapshot","moduleInfos","_extends","getRemoteEntryExports","remoteEntryKey","entryExports","registerGlobalPlugins","plugins","forEach","plugin","p","getGlobalHostPlugins","getPreloaded","get","setPreloaded","set","DEFAULT_SCOPE","DEFAULT_REMOTE_TYPE","buildIdentifier","build","numericIdentifier","numericIdentifierLoose","nonNumericIdentifier","preReleaseIdentifierLoose","preReleaseLoose","preReleaseIdentifier","preRelease","xRangeIdentifier","xRangePlain","hyphenRange","mainVersionLoose","loosePlain","gtlt","comparatorTrim","loneTilde","tildeTrim","loneCaret","caretTrim","star","caret","mainVersion","fullPlain","tilde","xRange","comparator","gte0","parseRegex","source","RegExp","isXVersion","toLowerCase","pipe","fns","x","reduce","v","f","extractComparator","comparatorString","match","combineVersion","major","minor","patch","parseHyphen","range","replace","_range","from","fromMajor","fromMinor","fromPatch","_fromPreRelease","_fromBuild","to","toMajor","toMinor","toPatch","toPreRelease","Number","trim","parseComparatorTrim","parseTildeTrim","parseCaretTrim","parseCarets","map","rangeVersion","join","parseTildes","parseXRanges","ret","isXMajor","isXMinor","isXPatch","parseStar","parseGTE0","compareAtom","rangeAtom","versionAtom","comparePreRelease","rangePreRelease","versionPreRelease","Boolean","i","n","length","rangeElement","versionElement","compareVersion","eq","compare","operator","parseComparatorString","parseRange","satisfy","parsedRange","parsedComparator","comparators","extractedVersion","versionOperator","versionMajor","versionMinor","versionPatch","extractedComparator","rangeOperator","rangeMajor","rangeMinor","rangePatch","formatShare","shareArgs","shareStrategy","Promise","resolve","lib","strategy","_shareArgs_version","_shareArgs_scope","_shareArgs_strategy","deps","useIn","loading","shareConfig","requiredVersion","singleton","eager","strictVersion","loaded","scope","formatShareConfigs","globalOptions","userOptions","shared","shareInfos","res","pkgName","arrayShareArgs","shareKey","newUserSharedOptions","isSameVersion","sharedVal","versionLt","a","b","transformInvalidVersion","isNumberVersion","isNaN","splitArr","validVersion","findVersion","shareVersionMap","cb","callback","prev","cur","isLoaded","findSingletonVersionOrderByVersion","shareScopeMap","versions","findSingletonVersionOrderByLoaded","getFindShareFunction","getRegisteredShare","localShareScopeMap","shareInfo","resolveShare","scopes","sc","findShareFunction","maxOrSingletonVersion","defaultResolver","versionKey","versionValue","entries","params","GlobalFederation","resolver","resolveShared","emit","getGlobalShareScope","getTargetSharedOptions","extraOptions","sharedOptions","maxVersion","_extraOptions_resolver","assign","customShareInfo","exports"],"mappings":"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"}